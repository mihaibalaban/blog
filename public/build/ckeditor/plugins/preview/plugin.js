!function(){var e,t={modes:{wysiwyg:1,source:1},canUndo:!1,readOnly:1,exec:function(t){var n,a=(o=t.config).baseHref?'<base href="'+o.baseHref+'"/>':"";if(o.fullPage)n=t.getData().replace(/<head>/,"$&"+a).replace(/[^>]*(?=<\/title>)/,"$& &mdash; "+t.lang.preview.preview);else{var o="<body ";(r=t.document&&t.document.getBody())&&(r.getAttribute("id")&&(o+='id="'+r.getAttribute("id")+'" '),r.getAttribute("class")&&(o+='class="'+r.getAttribute("class")+'" ')),o+=">",n=t.config.docType+'<html dir="'+t.config.contentsLangDirection+'"><head>'+a+"<title>"+t.lang.preview.preview+"</title>"+CKEDITOR.tools.buildStyleHtml(t.config.contentsCss)+"</head>"+o+t.getData()+"</body></html>"}a=640,o=420,r=80;try{var i=window.screen,r=(a=Math.round(.8*i.width),o=Math.round(.7*i.height),Math.round(.1*i.width))}catch(e){}if(!1===t.fire("contentPreview",t={dataValue:n}))return!1;var l;i="";return CKEDITOR.env.ie&&(window._cke_htmlToLoad=t.dataValue,l="javascript:void( (function(){document.open();"+("("+CKEDITOR.tools.fixDomain+")();").replace(/\/\/.*?\n/g,"").replace(/parent\./g,"window.opener.")+"document.write( window.opener._cke_htmlToLoad );document.close();window.opener._cke_htmlToLoad = null;})() )",i=""),CKEDITOR.env.gecko&&(window._cke_htmlToLoad=t.dataValue,i=CKEDITOR.getUrl(e+"preview.html")),i=window.open(i,null,"toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width="+a+",height="+o+",left="+r),CKEDITOR.env.ie&&i&&(i.location=l),CKEDITOR.env.ie||CKEDITOR.env.gecko||((l=i.document).open(),l.write(t.dataValue),l.close()),!0}};CKEDITOR.plugins.add("preview",{lang:"af,ar,az,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,es-mx,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,oc,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn",icons:"preview,preview-rtl",hidpi:!0,init:function(n){n.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&(e=this.path,n.addCommand("preview",t),n.ui.addButton&&n.ui.addButton("Preview",{label:n.lang.preview.preview,command:"preview",toolbar:"document,40"}))}})}();